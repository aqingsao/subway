#subway

##介绍
是一个Ruby脚本，用于模拟地铁中乘客进站、出站的情况，并记录到日志中。  
只需要运行"ruby main.rb"，程序会做以下几件事情：

* 加载地铁线路信息文件subway.txt
* 把地铁信息解析成树，计算任意两个站点之间的路径，计算时依据最少时间策略
* 创建用户，用户的一卡通号随机生成，全局唯一。用户乘坐地铁的路线随机选择，但是会根据换乘按照合适的比例分配，可参见main.rb
* 模拟用户乘坐地铁的场景，并打印进站出站记录。

##最少时间策略
比如用户从站点A上车，到站点B下车，中间可能经过换乘，就可能有多种路线可以选择。为了简化运算，我们假设用户都是用最少时间策略，并且任意两站间话费的时间相等，都是150秒；而每换乘一次，需要额外的191秒。这样任意两站间的线路，无论是否换乘，都是唯一的。

## 赛区题目
考虑到每个赛区的题目可能略有不同，所用的数据也不同，我们为每个赛区准备了单独的目录，比如group1, group2, group3, group4。  
每个目录下放置该赛区的题目(problem.txt)、地铁线路信息(subway.txt)、开发数据(sample.log)、生产数据(production.log.zip)。

## 用法
运行： ruby main.rb

程序运行是会打印部分统计信息，包括：
* 乘客总人数
* 不同换乘次数下的乘客数量
* 哪个站进入的人数最多
* 哪个站出来的人数最多
* 哪个站换乘的人数最多

由于进出站时模拟的是真实场景，所以此脚本运行的时间可能较大，比如2个多小时甚至3个小时。

## TODO